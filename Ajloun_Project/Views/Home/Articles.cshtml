@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model List<Ajloun_Project.Models.Article>
@{
    ViewData["Title"] = "المقالات";
    Layout = null;
}
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مديرية ثقافة عجلون | Ajloun Directorate of Culture</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&family=Playfair+Display:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Libraries -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.11.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.11.5/dist/ScrollTrigger.min.js"></script>

    <link rel="stylesheet" href="~/css/Articles.css">
    <link rel="stylesheet" href="~/css/index.css">


</head>
<body class="lang-ar">
    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo">
            <img src="https://via.placeholder.com/50x50?text=شعار" alt="Ajloun Culture Logo">
            <span class="logo-text" data-ar="مديرية ثقافة عجلون" data-en="Ajloun Culture">مديرية ثقافة عجلون</span>
        </div>

        <div class="nav-links">
            <a href="#home" data-ar="الرئيسية" data-en="Home">الرئيسية</a>
            <a href="#about" data-ar="عن المديرية" data-en="About">عن المديرية</a>
            <a href="#services" data-ar="خدماتنا" data-en="Services">خدماتنا</a>
            <a href="#events" data-ar="الفعاليات" data-en="Events">الفعاليات</a>
            <a href="#artists" data-ar="الفنانين" data-en="Artists">الفنانين</a>
            <a href="#contact" data-ar="اتصل بنا" data-en="Contact">اتصل بنا</a>
        </div>

        <div class="language-switcher">
            <button class="language-btn active" data-lang="ar">العربية</button>
            <button class="language-btn" data-lang="en">English</button>
        </div>

        <div class="hamburger">
            <i class="fas fa-bars"></i>
        </div>
    </nav>
    <br /><br /><br /><br />
    <div class="container my-5">
        <h2 class="mb-4 text-center">المقالات الثقافية والأدبية والتاريخية</h2><br />

        <!-- البحث -->
        <div class="row mb-3">
            <div class="col-md-6 offset-md-3">
                <form method="get" asp-controller="Home" asp-action="Articles" class="input-group">
                    <input type="text" name="search" class="form-control rounded-start" placeholder="🔍 ابحث عن مقال..." value="@(Context.Request.Query["search"])" />
                    <button type="submit" class="btn btn-primary rounded-end">بحث</button>
                </form>
            </div>
        </div>

        <!-- الفلاتر -->
        @{
            var selectedCategory = Context.Request.Query["category"].ToString();
        }
        <div class="text-center mb-4">
            <form method="get" asp-controller="Home" asp-action="Articles">
                <button type="submit" name="category" value=""
                        class="btn btn-outline-secondary m-1 @(string.IsNullOrEmpty(selectedCategory) ? "active" : "")">
                    الكل
                </button>
                <button type="submit" name="category" value="ثقافة محلية"
                        class="btn btn-outline-secondary m-1 @(selectedCategory == "ثقافة محلية" ? "active" : "")">
                    ثقافة محلية
                </button>
                <button type="submit" name="category" value="تراث"
                        class="btn btn-outline-secondary m-1 @(selectedCategory == "تراث" ? "active" : "")">
                    تراث
                </button>
                <button type="submit" name="category" value="فن"
                        class="btn btn-outline-secondary m-1 @(selectedCategory == "فن" ? "active" : "")">
                    فن
                </button>
                <button type="submit" name="category" value="معارض"
                        class="btn btn-outline-secondary m-1 @(selectedCategory == "معارض" ? "active" : "")">
                    معارض
                </button>
                <button type="submit" name="category" value="أدب وشعر"
                        class="btn btn-outline-secondary m-1 @(selectedCategory == "أدب وشعر" ? "active" : "")">
                    أدب وشعر
                </button>
            </form>
        </div>


        @if (Model != null && Model.Any())
        {
            <div class="row">
                @foreach (var article in Model)
                {
                    <div class="col-md-4 mb-4">
                        <div class="card h-100 shadow-sm">
                            <img src="@article.CoverImageUrl" class="card-img-top" alt="صورة المقال" style="height: 200px; object-fit: cover;" />
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">@article.Title</h5>
                                <p class="card-text text-muted mb-1"><i class="bi bi-person"></i> @article.AuthorName</p>
                                <p class="card-text text-muted">
                                    <i class="bi bi-calendar-event"></i> @article.PublishDate?.ToString("yyyy-MM-dd")
                                </p>
                                <a href="@Url.Action("ArticleDetails", new { id = article.ArticleId })" class="btn btn-primary mt-auto">قراءة المزيد</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="alert alert-info text-center">لا توجد مقالات لعرضها حاليًا.</div>
        }
    </div>


    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <div class="footer-logo">
                        <img src="https://via.placeholder.com/50x50?text=شعار" alt="Ajloun Culture Logo">
                        <span class="footer-logo-text" data-ar="مديرية ثقافة عجلون" data-en="Ajloun Culture">مديرية ثقافة عجلون</span>
                    </div>
                    <p class="footer-about" data-ar="نعمل على تعزيز ونشر الثقافة والفنون في محافظة عجلون، ودعم المواهب المحلية، والحفاظ على التراث الثقافي." data-en="We work to promote and disseminate culture and arts in Ajloun Governorate, support local talents, and preserve cultural heritage.">نعمل على تعزيز ونشر الثقافة والفنون في محافظة عجلون، ودعم المواهب المحلية، والحفاظ على التراث الثقافي.</p>
                    <div class="footer-social">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h3 class="footer-title" data-ar="روابط سريعة" data-en="Quick Links">روابط سريعة</h3>
                    <ul class="footer-links">
                        <li><a href="#home" data-ar="الرئيسية" data-en="Home">الرئيسية</a></li>
                        <li><a href="#about" data-ar="عن المديرية" data-en="About">عن المديرية</a></li>
                        <li><a href="#services" data-ar="خدماتنا" data-en="Services">خدماتنا</a></li>
                        <li><a href="#events" data-ar="الفعاليات" data-en="Events">الفعاليات</a></li>
                        <li><a href="#artists" data-ar="الفنانين" data-en="Artists">الفنانين</a></li>
                        <li><a href="#contact" data-ar="اتصل بنا" data-en="Contact">اتصل بنا</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h3 class="footer-title" data-ar="خدمات المديرية" data-en="Directorate Services">خدمات المديرية</h3>
                    <ul class="footer-links">
                        <li><a href="#" data-ar="المعارض الفنية" data-en="Art Exhibitions">المعارض الفنية</a></li>
                        <li><a href="#" data-ar="المهرجانات الثقافية" data-en="Cultural Festivals">المهرجانات الثقافية</a></li>
                        <li><a href="#" data-ar="الدورات التدريبية" data-en="Training Courses">الدورات التدريبية</a></li>
                        <li><a href="#" data-ar="خدمات المكتبة" data-en="Library Services">خدمات المكتبة</a></li>
                        <li><a href="#" data-ar="ورش العمل" data-en="Workshops">ورش العمل</a></li>
                        <li><a href="#" data-ar="الفعاليات الثقافية" data-en="Cultural Events">الفعاليات الثقافية</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h3 class="footer-title" data-ar="اتصل بنا" data-en="Contact Us">اتصل بنا</h3>
                    <div class="footer-contact-item">
                        <div class="footer-contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="footer-contact-text" data-ar="عجلون، وسط البلد، بجانب بلدية عجلون الكبرى" data-en="Ajloun, City Center, Next to Greater Ajloun Municipality">عجلون، وسط البلد، بجانب بلدية عجلون الكبرى</div>
                    </div>
                    <div class="footer-contact-item">
                        <div class="footer-contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="footer-contact-text">+962 2 642 1234</div>
                    </div>
                    <div class="footer-contact-item">
                        <div class="footer-contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="footer-contact-text">info@ajlounculture.gov.jo</div>
                    </div>
                    <div class="footer-contact-item">
                        <div class="footer-contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="footer-contact-text" data-ar="الأحد - الخميس: 8 صباحاً - 3 مساءً" data-en="Sun - Thu: 8 AM - 3 PM">الأحد - الخميس: 8 صباحاً - 3 مساءً</div>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p data-ar="&copy; 2025 مديرية ثقافة عجلون. جميع الحقوق محفوظة." data-en="&copy; 2025 Ajloun Directorate of Culture. All Rights Reserved.">&copy; 2025 مديرية ثقافة عجلون. جميع الحقوق محفوظة.</p>
                <img src="https://via.placeholder.com/100x40?text=وزارة+الثقافة" alt="Ministry of Culture Logo" style="margin-top: 20px; height: 40px;">
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script>
        // Mobile Menu Toggle
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            hamburger.classList.toggle('active');
        });

        // Language Switcher
        const languageBtns = document.querySelectorAll('.language-btn');
        const elementsToTranslate = document.querySelectorAll('[data-ar], [data-en]');
        const placeholdersToTranslate = document.querySelectorAll('[data-ar-placeholder], [data-en-placeholder]');

        languageBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.dataset.lang;

                languageBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                document.documentElement.lang = lang;

                if (lang === 'ar') {
                    document.documentElement.dir = 'rtl';
                    document.body.className = 'lang-ar';

                    // Translate text content
                    elementsToTranslate.forEach(el => {
                        if (el.dataset.ar) {
                            el.textContent = el.dataset.ar;
                        }
                    });

                    // Translate placeholders
                    placeholdersToTranslate.forEach(el => {
                        if (el.dataset.arPlaceholder) {
                            el.placeholder = el.dataset.arPlaceholder;
                        }
                    });
                } else {
                    document.documentElement.dir = 'ltr';
                    document.body.className = 'lang-en';

                    // Translate text content
                    elementsToTranslate.forEach(el => {
                        if (el.dataset.en) {
                            el.textContent = el.dataset.en;
                        }
                    });

                    // Translate placeholders
                    placeholdersToTranslate.forEach(el => {
                        if (el.dataset.enPlaceholder) {
                            el.placeholder = el.dataset.enPlaceholder;
                        }
                    });
                }
            });
        });

        // Navbar Scroll Effect
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                document.querySelector('.navbar').classList.add('scrolled');
            } else {
                document.querySelector('.navbar').classList.remove('scrolled');
            }
        });

        // Events Slider
        const eventsSlider = new Swiper('.events-slider', {
            slidesPerView: 1,
            spaceBetween: 20,
            loop: true,
            autoplay: {
                delay: 5000,
                disableOnInteraction: false,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            breakpoints: {
                768: {
                    slidesPerView: 2,
                },
                992: {
                    slidesPerView: 3,
                }
            }
        });

        // Testimonials Slider
        const testimonialsSlider = new Swiper('.testimonials-slider', {
            slidesPerView: 1,
            loop: true,
            autoplay: {
                delay: 7000,
                disableOnInteraction: false,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            }
        });

        // Counter Animation
        const statNumbers = document.querySelectorAll('.stat-number');

        function animateCounters() {
            statNumbers.forEach(stat => {
                const target = parseInt(stat.dataset.count);
                const duration = 2000;
                const step = target / (duration / 16);
                let current = 0;

                const counter = setInterval(() => {
                    current += step;
                    if (current >= target) {
                        clearInterval(counter);
                        stat.textContent = target;
                    } else {
                        stat.textContent = Math.floor(current);
                    }
                }, 16);
            });
        }

        // GSAP Animations
        gsap.registerPlugin(ScrollTrigger);

        // Animate hero content
        gsap.from('.hero-subtitle', {
            opacity: 0,
            y: 50,
            duration: 1,
            delay: 0.5
        });

        gsap.from('.hero-title', {
            opacity: 0,
            y: 50,
            duration: 1,
            delay: 0.8
        });

        gsap.from('.hero-text', {
            opacity: 0,
            y: 50,
            duration: 1,
            delay: 1.1
        });

        gsap.from('.hero-buttons', {
            opacity: 0,
            y: 50,
            duration: 1,
            delay: 1.4
        });

        // Animate sections on scroll
        gsap.utils.toArray('.animate-on-scroll').forEach(section => {
            gsap.from(section, {
                opacity: 0,
                y: 100,
                duration: 1,
                scrollTrigger: {
                    trigger: section,
                    start: 'top 80%',
                    toggleActions: 'play none none none'
                }
            });
        });

        // Animate about section
        gsap.from('.about-image', {
            scrollTrigger: {
                trigger: '.about',
                start: 'top 70%',
                toggleActions: 'play none none none'
            },
            x: -100,
            opacity: 0,
            duration: 1
        });

        gsap.from('.about-text', {
            scrollTrigger: {
                trigger: '.about',
                start: 'top 70%',
                toggleActions: 'play none none none'
            },
            x: 100,
            opacity: 0,
            duration: 1
        });

        // Initialize counters when stats section is in view
        ScrollTrigger.create({
            trigger: '.stats',
            start: 'top 70%',
            onEnter: animateCounters
        });

        // Parallax effect for hero background
        gsap.to('.hero-bg', {
            scrollTrigger: {
                scrub: true
            },
            y: 100,
            scale: 1.1
        });
    </script>
</body>
</html>
