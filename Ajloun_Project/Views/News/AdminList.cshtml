@model List<Ajloun_Project.Models.News>

@{
    ViewData["Title"] = "إدارة الأخبار";
    Layout = "_Layout";
}

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet" />

<style>
    :root {
        --primary: #355E3B;
        --secondary: #A9BA9D;
        --accent: #E3D26F;
        --dark: #1E2F23;
        --light: #EFF5EC;
        --text: #2D2D2D;
        --white: #FFFFFF;
        --box-shadow: 0 10px 25px rgba(0, 0, 0, 0.07);
        --transition: all 0.3s ease;
    }

    body {
        font-family: 'Tajawal', sans-serif;
        background-color: var(--light);
        color: var(--text);
    }

    .admin-header {
        text-align: center;
        color: var(--primary);
        margin: 40px 0 20px;
    }

    .news-table {
        background: var(--white);
        box-shadow: var(--box-shadow);
        border-radius: 12px;
        overflow: hidden;
    }

        .news-table th {
            background-color: var(--primary);
            color: var(--white);
        }

        .news-table td,
        .news-table th {
            vertical-align: middle;
        }

    .btn-action {
        padding: 6px 15px;
        border-radius: 6px;
        font-size: 0.9rem;
        transition: var(--transition);
    }

    .btn-edit {
        background-color: var(--accent);
        color: var(--dark);
        margin-right: 5px;
    }

        .btn-edit:hover {
            background-color: #cdbf5d;
        }

    .btn-delete {
        background-color: crimson;
        color: var(--white);
    }

        .btn-delete:hover {
            background-color: #a80000;
        }

    .add-button {
        background-color: var(--primary);
        color: var(--white);
        padding: 10px 20px;
        border-radius: 8px;
        text-decoration: none;
        display: inline-block;
        margin-top: 20px;
        transition: var(--transition);
    }

        .add-button:hover {
            background-color: var(--accent);
            color: var(--dark);
        }
</style>

<div class="container">
    <h2 class="admin-header">📰 لوحة إدارة الأخبار</h2>

    <table class="table table-bordered table-striped text-center news-table">
        <thead>
            <tr>
                <th>العنوان</th>
                <th>التصنيف</th>
                <th>التاريخ</th>
                <th>الحالة</th>
                <th>التحكم</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.Title</td>
                    <td>@item.Category</td>
                    <td>@item.PublishDate?.ToString("yyyy-MM-dd")</td>
                    <td>@item.Status</td>
                    <td>
                        <a class="btn btn-sm btn-action btn-edit" asp-action="AdminEdit" asp-route-id="@item.NewsId">✏️ تعديل</a>
                        <form asp-action="AdminDelete" asp-route-id="@item.NewsId" method="post" style="display:inline;">
                            <button type="submit" class="btn btn-sm btn-action btn-delete" onclick="return confirm('هل أنت متأكد من الحذف؟')">🗑 حذف</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <div class="text-center">
        <a class="add-button" asp-action="Create">➕ إضافة خبر جديد</a>
    </div>
</div>
